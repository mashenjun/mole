---
rules:
  - record: tidb_p99_rt:total
  - record: tidb_p99_get_token_dur
  - record: tidb_conn_cnt:by_instance
  - record: tidb_heap_size:by_instance
  - record: tidb_p99_parse_dur:by_sql_type
    apply_agg: fill_gap
  - record: tidb_p99_compile_dur:by_sql_type
  - record: tidb_p99_txn_dur:by_sql_type
    apply_agg: fill_gap
  - record: tidb_p99_txn_stmt_cnt:by_sql_type
    apply_agg: fill_gap
  - record: tidb_p99_txn_retry_cnt
  - record: tidb_p999_kv_cmd_rt:get:by_type
  - record: tidb_p99_kv_cmd_rt:get:by_type
  - record: tidb_lock_resolve_ops:by_type
  - record: tidb_p99_backoff_dur:by_type
    apply_agg: fill_gap
  - record: tidb_backoff_ops:by_type
  - record: pd_p999_cmd_wait_dur:tso
  - record: pd_p999_rpc_dur:tso
  - record: tikv_p99_rt:read:by_type
  - record: tikv_grpc_thd_cpu_usage:by_instance:by_name
  - record: tikv_readpool_thd_cpu_usage:by_instance
    apply_gap: fill_gap
  - record: tikv_p99_copr_wait_dur:by_req
    apply_agg: fill_gap
  - record: tikv_p99_copr_rt:by_req
    apply_agg: fill_gap
  - record: tikv_copr_thd_cpu_usage:by_instance
    apply_agg: fill_gap
  - record: tikv_avg_rocksdb_get_dur
  - record: tikv_p99_rocksdb_get_dur
  - record: tikv_get_cache_hit:memtable_hit
  - record: tikv_get_cache_hit:block_cache
  - record: tikv_get_served_ops:by_type
  - record: tikv_avg_rocksdb_seek_dur
  - record: tikv_p99_rocksdb_seek_dur
  - record: tikv_seek_ops:by_type
  - record: tikv_block_cache_hit_ratio:all
  - record: tikv_block_cache_hit_ratio:data
  - record: tikv_block_cache_hit_ratio:filter
  - record: tikv_block_cache_hit_ratio:index
  - record: tikv_bloom_prefix_hit_ratio
  - record: node_disk_read_lat:by_instance:by_device
    apply_agg: fill_gap
  - record: node_disk_read_ops:by_instance:by_device
  - record: node_disk_read_bw:by_instance:by_device
  - record: node_disk_read_dur:by_instance:by_device
  - record: tidb_p999_kv_cmd_rt:commit
  - record: tidb_p99_kv_cmd_rt:commit
  - record: tikv_p99_rt:write:by_type
  - record: tikv_p95_sched_latch_wait_dur:by_type
    apply_agg: fill_gap
  - record: tikv_avg_sched_latch_wait_dur:by_type
    apply_agg: fill_gap
  - record: tikv_sched_thd_cpu_usage:by_instance
  - record: tikv_p99_sched_cmd_dur:by_type
    apply_agg: fill_gap
  - record: tikv_p99_raftstore_req_wait_dur:by_instance
  - record: tikv_raftstore_thd_cpu_usage:by_instance
  - record: tikv_p99_raftstore_async_req_dur
  - record: tikv_avg_raftstore_async_req_dur
  - record: tikv_p99_raftstore_append_log_dur:by_instance
  - record: tikv_p99_rocksdb_write_dur:raft
  - record: tikv_avg_rocksdb_write_dur:raft
  - record: tikv_p99_raftstore_apply_wait_dur:by_instance
  - record: tikv_p99_raftstore_apply_log_dur
  - record: tikv_avg_raftstore_apply_log_dur
  - record: tikv_p99_rocksdb_write_dur:kv
  - record: tikv_avg_rocksdb_write_dur:kv
  - record: tikv_apply_thd_cpu_usage:by_instance
  - record: node_disk_write_lat:by_instance:by_device
  - record: node_disk_write_ops:by_instance:by_device
  - record: node_disk_write_bw:by_instance:by_device
  - record: node_disk_write_dur:by_instance:by_device
